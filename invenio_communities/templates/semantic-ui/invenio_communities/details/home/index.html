{# -*- coding: utf-8 -*-

  This file is part of Invenio.
  Copyright (C) 2023 CERN.

  Invenio is free software; you can redistribute it and/or modify it
  under the terms of the MIT License; see LICENSE file for more details.
#}

{% extends "invenio_communities/details/base.html" %}
{%- from "invenio_communities/macros/community_uploads.html" import community_uploads -%}

{%- set title = community.metadata.title -%}
{% set active_community_header_menu_item= 'home' %}

{%- block page_body %}
  {{ super() }}
  <div class="ui rel-m-2 rel-pt-1">
    {{hero_section(heading=community.theme.heading,subheading=community.theme.subheading)}}
    {{ community_uploads() }}
    {{how_it_works()}}
  </div>
{%- endblock page_body -%}


{% macro hero_section(heading="Not found", subheading="Not found") %}
<div class="ui centered stackable grid container rel-mt-2 rel-mb-4">
  <div class="thirteen wide column">
    <div class="row item">
      <h2 class="ui header">{{heading}}</h2>
      <h4 class="ui text-muted header">{{subheading}}</h4>
    </div>
    <div class="ui rel-mt-2 rel-mb-4">
      <div class="ui fluid container row rel-mb-2">
          <a href="/uploads/new?community={{ community.slug }}"
          target="_blank"
          class="ui positive button labeled theme-secondary icon rel-mt-1">
         <i class="upload icon" aria-hidden="true"></i>
         {{ _("New upload") }}
       </a>
          <a href="{{'/support/'}}"
          target="_blank"
          class="ui positive button labeled theme-primary icon rel-mt-1">
         <i class="users icon" aria-hidden="true"></i>
         {{ _("Join waiting list") }}
       </a>
          <a href="https://open-research-europe.ec.europa.eu/"
          target="_blank"
          class="ui button labeled icon rel-mt-1">
         <i class="info icon" aria-hidden="true"></i>
         {{ _("Learn more") }}
       </a>
      </div>
    </div>
    </div>
  </div>
</div>

{% endmacro %}

{% macro how_it_works() %}
<div class="ui stackable grid container rel-mt-2">
  <div class="column">
    <div class="row item">
      <h2 class="ui header">{{ _('How it works?') }}</h2>
    </div>
    <div class="ui divider"></div>
    <div class="center aligned ui equal width stackable grid rel-mt-4 rel-mb-2">
      <div class="row rel-mb-2">
        <div class="column">
          <h3 class="text-muted">{{ _('1. Request Community') }}</h3>
        </div>
        <div class="column">
          <h3 class="text-muted">{{ _('2. Invite Partners') }}</h3>
        </div>
        <div class="column">
          <h3 class="text-muted">{{ _('3. Publish FAIR') }}</h3>
        </div>
      </div>
      <div class="row">
        <div class="center aligned">
          <a href="https://open-research-europe.ec.europa.eu/"
             target="_blank"
             class="ui button labeled icon rel-mt-1">
            <i class="info icon" aria-hidden="true"></i>
            {{ _("Learn More") }}
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

{% endmacro %}